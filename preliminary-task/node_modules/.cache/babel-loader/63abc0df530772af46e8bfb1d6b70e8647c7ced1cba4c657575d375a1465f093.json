{"ast":null,"code":"var _jsxFileName = \"/Users/naryeong/Documents/wanted-pre-onboarding-frontend/preliminary-task/src/components/SignInForm/SignInForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport * as S from \"./SignInForm.styled\";\nimport useValidate from \"../../hooks/useValidate\";\nimport { signInApi } from \"../../apis/auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SignInForm = () => {\n  _s();\n  const [emailIsValidated, emailWarnList, onCheckEmail] = useValidate(\"email\");\n  const [passwordIsValidated, passwordWarnList, onCheckPassword] = useValidate(\"password\");\n  const [userInfo, setUserInfo] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const navigate = useNavigate();\n  const token = localStorage.getItem(\"access_token\");\n  useEffect(() => {\n    if (token) {\n      navigate(\"/todo\", {\n        replace: true\n      });\n    }\n  }, [token]);\n  const handleInputValue = useCallback(key => e => {\n    setUserInfo({\n      ...userInfo,\n      [key]: e.target.value\n    });\n    if (key === \"email\") {\n      onCheckEmail(e.target.value);\n    }\n    if (key === \"password\") {\n      onCheckPassword(e.target.value);\n    }\n  }, [userInfo]);\n  const onSubmit = e => {\n    e.preventDefault();\n    signInApi(userInfo.email, userInfo.password).then(res => {\n      e.target.reset();\n      console.log(\"signin success\");\n      localStorage.setItem(\"access_token\", res.data.access_token);\n      alert(\"로컬 스토리지에 토큰이 있습니다. TODO 페이지로 이동합니다.\");\n      navigate(\"/todo\");\n    }).catch(err => {\n      console.log(err.response.data.message);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(S.Wrapper, {\n    children: [/*#__PURE__*/_jsxDEV(S.Title, {\n      children: \"\\uB85C\\uADF8\\uC778\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(S.Form, {\n      onSubmit: onSubmit,\n      children: [/*#__PURE__*/_jsxDEV(S.Label, {\n        htmlFor: \"email\",\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(S.Input, {\n        label: \"\\uC774\\uBA54\\uC77C\",\n        id: \"email\",\n        type: \"text\",\n        placeholder: \"\\uC774\\uBA54\\uC77C\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",\n        \"data-testid\": \"email-input\",\n        required: true,\n        onChange: handleInputValue(\"email\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(S.ErrorText, {\n        children: emailWarnList === null || emailWarnList === void 0 ? void 0 : emailWarnList.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: item\n        }, item, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(S.Label, {\n        htmlFor: \"password\",\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(S.Input, {\n        label: \"\\uBE44\\uBC00\\uBC88\\uD638\",\n        id: \"password\",\n        type: \"text\",\n        placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",\n        \"data-testid\": \"password-input\",\n        required: true,\n        onChange: handleInputValue(\"password\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(S.ErrorText, {\n        children: passwordWarnList === null || passwordWarnList === void 0 ? void 0 : passwordWarnList.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: item\n        }, item, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(S.Button, {\n        \"data-testid\": \"signin-button\",\n        disabled: !emailIsValidated || !passwordIsValidated,\n        children: /*#__PURE__*/_jsxDEV(S.ButtonText, {\n          children: \"\\uB85C\\uADF8\\uC778\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(SignInForm, \"0ObPyMBVNZszTgPXqxce+Rw0fxI=\", false, function () {\n  return [useValidate, useValidate, useNavigate];\n});\n_c = SignInForm;\nexport default SignInForm;\nvar _c;\n$RefreshReg$(_c, \"SignInForm\");","map":{"version":3,"names":["React","useState","useCallback","useEffect","useNavigate","S","useValidate","signInApi","jsxDEV","_jsxDEV","SignInForm","_s","emailIsValidated","emailWarnList","onCheckEmail","passwordIsValidated","passwordWarnList","onCheckPassword","userInfo","setUserInfo","email","password","navigate","token","localStorage","getItem","replace","handleInputValue","key","e","target","value","onSubmit","preventDefault","then","res","reset","console","log","setItem","data","access_token","alert","catch","err","response","message","Wrapper","children","Title","fileName","_jsxFileName","lineNumber","columnNumber","Form","Label","htmlFor","Input","label","id","type","placeholder","required","onChange","ErrorText","map","item","Button","disabled","ButtonText","_c","$RefreshReg$"],"sources":["/Users/naryeong/Documents/wanted-pre-onboarding-frontend/preliminary-task/src/components/SignInForm/SignInForm.jsx"],"sourcesContent":["import React, { useState, useCallback, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport * as S from \"./SignInForm.styled\";\r\nimport useValidate from \"../../hooks/useValidate\";\r\nimport { signInApi } from \"../../apis/auth\";\r\n\r\nconst SignInForm = () => {\r\n  const [emailIsValidated, emailWarnList, onCheckEmail] = useValidate(\"email\");\r\n  const [passwordIsValidated, passwordWarnList, onCheckPassword] = useValidate(\"password\");\r\n  const [userInfo, setUserInfo] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  \r\n  const navigate = useNavigate();\r\n\r\n  const token = localStorage.getItem(\"access_token\");\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      navigate(\"/todo\", { replace: true });\r\n    }\r\n  }, [token]);\r\n\r\n  const handleInputValue = useCallback(\r\n    (key) => (e) => {\r\n      setUserInfo({ ...userInfo, [key]: e.target.value });\r\n\r\n      if (key === \"email\") {\r\n        onCheckEmail(e.target.value);\r\n      }\r\n      if (key === \"password\") {\r\n        onCheckPassword(e.target.value);\r\n      }\r\n    },\r\n    [userInfo]\r\n  );\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    signInApi(userInfo.email, userInfo.password)\r\n      .then((res) => {\r\n        e.target.reset();\r\n        console.log(\"signin success\");\r\n        localStorage.setItem(\"access_token\", res.data.access_token);\r\n        alert(\"로컬 스토리지에 토큰이 있습니다. TODO 페이지로 이동합니다.\");\r\n        navigate(\"/todo\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.response.data.message);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <S.Wrapper>\r\n      <S.Title>로그인</S.Title>\r\n      <S.Form onSubmit={onSubmit}>\r\n        <S.Label htmlFor=\"email\">Email</S.Label>\r\n        <S.Input\r\n          label=\"이메일\"\r\n          id=\"email\"\r\n          type=\"text\"\r\n          placeholder=\"이메일을 입력해주세요.\"\r\n          data-testid=\"email-input\"\r\n          required\r\n          onChange={handleInputValue(\"email\")}\r\n        />\r\n        <S.ErrorText>\r\n          {emailWarnList?.map((item) => (\r\n            <div key={item}>{item}</div>\r\n          ))}\r\n        </S.ErrorText>\r\n\r\n        <S.Label htmlFor=\"password\">Password</S.Label>\r\n        <S.Input\r\n          label=\"비밀번호\"\r\n          id=\"password\"\r\n          type=\"text\"\r\n          placeholder=\"비밀번호를 입력해주세요.\"\r\n          data-testid=\"password-input\"\r\n          required\r\n          onChange={handleInputValue(\"password\")}\r\n        />\r\n        <S.ErrorText>\r\n          {passwordWarnList?.map((item) => (\r\n            <div key={item}>{item}</div>\r\n          ))}\r\n        </S.ErrorText>\r\n\r\n        <S.Button\r\n          data-testid=\"signin-button\"\r\n          disabled={!emailIsValidated || !passwordIsValidated}\r\n        >\r\n          <S.ButtonText>로그인</S.ButtonText>\r\n        </S.Button>\r\n      </S.Form>\r\n    </S.Wrapper>\r\n  );\r\n}\r\n\r\nexport default SignInForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}